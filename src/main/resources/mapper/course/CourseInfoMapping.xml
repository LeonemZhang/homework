<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.csto.homework.mapper.course.CourseInfoMapper">

    <!--根据老师姓名和课程名称获取对应课程信息列表-->
    <select id="listCourseBySearch"  resultType="Map">
        SELECT course_info_id AS courseInfoId,course_name AS courseName,user_real_name AS userRealName
              FROM homework_course_info AS course,homework_user_info AS  users
                  WHERE course.user_info_id = users.user_info_id
                   <if test="courseName != null">
                       AND course.course_name = #{courseName}
                   </if>
                   <if test="teacherName != null">
                       AND users.user_real_name = #{teacherName}
                   </if>


    </select>

    <!--//老师创建课程-->
    <!--int createCourse(CourseInfo courseInfo);-->
    <insert id="createCourse" parameterType="CourseInfo">
        insert into homework_course_info (user_info_id,course_name,create_course_time)
                                    value (#{userInfoId},#{courseName},#{createCourseTime})
    </insert>

</mapper>
